{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}
  Checkout
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-6">
      <div class="box-element p-4" id="form-wrapper">
        <h1>Checkout</h1>
        <div class="form-group">
          <form method="post" class="order-form">
            {{ form|crispy }}
            {% csrf_token %}
            <input type="submit" class="btn btn-primary d-block" value="Place order">
          </form>
        </div>
    </div>
  </div>
  <div class="col-lg-6">
    <div class="order-info box-element">
      <a href="{% url 'cart:cart_detail' %}" class="btn btn-outline-dark">&#x2190; Back to Cart</a>
      <hr>
      <div class="border-bottom border-primary box-element pb-5" style="background-color:#eee; border-width: 3px !important;">        
        <h3>Order Summery</h3>
        <hr>
        <ul>
          {% for item in cart %}
          <li>
            {{ item.quantity }}x {{ item.product.name }}
            <span class="float-right">${{ item.total_price }}</span>
          </li>
          {% endfor %}
        </ul>
        <p class="float-right border-bottom border-primary" style="border-width: 4px !important;"><strong> Total: ${{ cart.get_total_price }}</strong></p>
      </div>
    </div>
  </div>
</div>

{% endblock %}